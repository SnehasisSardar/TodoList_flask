{% extends 'base.html' %}
{% block title %} Home{% endblock title %} 
{% block body %}

{% for message in get_flashed_messages() %}
	
	<div class="alert alert-success alert-dismissible fade show" role="alert">
	  {{ message }}
	  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>

	
{% endfor %}

<div class="container my-3">
    <h2>My Todos</h2>


    {% if allTodo|length==0 %}


    <div class="alert alert-danger" role="alert">
        No Todo is Present..Enter One.
    </div>

    {% else %}
    <table class="table">
        <thead>
            <tr>
                <th scope="col">SNo</th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Time</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>

        <tbody>
            {% for todo in allTodo %}


            <tr>
                <th scope="row">{{loop.index}}</th>
                <td>{{todo.title}}</td>
                <td>{{todo.description}}</td>
                <td>{{todo.date_created}}</td>
                <td>
                    <!-- <a href="/update/{{todo.sno}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Update</button> -->
                    <a href="{{url_for('update',sno=todo.sno)}}"type="button" class="btn btn-outline-dark btn-sm mx-1">Update</button>
                    <a href="/delete/{{todo.sno}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Delete</button>
                        <a href="/complete/{{todo.sno}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Completed</button>
                
                </td>

            </tr>

            {% endfor %}
        </tbody>
    </table>
    {% endif %}
    <br>

    <div style="display: flex;">
        <a href="{{ url_for('add_todo') }}" type="button" style="display: inline-block; height: 48px; width: 130px; background-color: rgb(24, 37, 212); border-radius: 8px; font-size: 20px; box-sizing: border-box; padding: 7px; margin: 10px; border-width: 3px; border-color: rgb(26, 25, 25); border-style: solid; color: rgb(243, 245, 249); text-decoration: none;">Add a Todo</a>
    
        <a href="{{ url_for('complete_todo') }}" type="button" style="display: inline-block; height: 48px; width: 180px; background-color: rgb(24, 37, 212); border-radius: 8px; font-size: 20px; box-sizing: border-box; padding: 7px; margin: 10px; border-width: 3px; border-color: rgb(26, 25, 25); border-style: solid; color: rgb(253, 253, 255); text-decoration: none;">Completed Todos</a>
    </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"></script>


{% endblock body %}
